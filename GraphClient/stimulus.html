<!DOCTYPE html>
<meta charset="utf-8">
<head>

  <title>GRAPH</title>
  <!--JAVASCRIPT LIBRARIES -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://use.fontawesome.com/945539d961.js"></script>

  <!-- load the d3.js library -->
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/d3-drag.v1.min.js"></script>
  <script src="https://d3js.org/d3-path.v1.min.js"></script>
  <script src="https://d3js.org/d3-shape.v1.min.js"></script>
  <script src="https://d3js.org/d3-polygon.v1.min.js"></script>
  <script src="graphs.js"></script>


  <!--STYLE SHEETS -->
  <link href="css/styles.css" rel="stylesheet" type="text/css"></link>
  <link href="css/experiment.css" rel="stylesheet" type="text/css"></link>

</head>

<body>
  <div class = "stimulus">
  <div class = "d3container"></div>


    <div class = "userinput">
      <!--  IMAGE SCAFFOLDS AND HINTS  ------------------------------------------------------------------>

      <img class = "static" id="triangular-acme-impasse" src ="img/overlay.triangular-acme-impasse.png" />
      <img class = "static" id="triangular-acme-nonimpasse" src ="img/overlay.triangular-acme-nonimpasse.png" />
      <div class = "legend" id="hint-interactive" style="display:none" >
        <p>Hint: hover your mouse over the data points for help</p>
      </div> <!-- end legend -->

      <!-- STIMULUS QUESTIONS  ---------------------------------------------------------------------->
      <div class=test>
        <div class = "acme" id="acme.start" >
          <p class = "question">THIS IS A PLACEHOLDER QUESTION </p>
          <ul class="checkbox-grid">
        <li><input type="checkbox" name="A" value=A />A</li>
        <li><input type="checkbox" name="B" value=B />B</li>
        <li><input type="checkbox" name="C" value=C />C</li>
        <li><input type="checkbox" name="D" value=D />D</li>
        <li><input type="checkbox" name="E" value=E />E</li>
        <li><input type="checkbox" name="F" value=F />F</li>
        <li><input type="checkbox" name="G" value=G />G</li>
        <li><input type="checkbox" name="H" value=H />H</li>
        <li><input type="checkbox" name="I" value=I />I</li>
        <li><input type="checkbox" name="J" value=J />J</li>
        <li><input type="checkbox" name="K" value=K />K</li>
        <li><input type="checkbox" name="L" value=L />L</li>
        <li><input type="checkbox" name="M" value=M />M</li>
        <li><input type="checkbox" name="N" value=N />N</li>
        <li><input type="checkbox" name="O" value=O />O</li>
      </li>
          <!-- //answer =     "acme.start" : ["C","D","L"]-->
        </div>
      </div> <!--test questions div end-->

      <!-- SUBMIT AND HELP BUTTONS ------------------------------------------------------------------>
      <div class="fixbottom">
    <button type="button" id="start" class='btn' onclick=checkAnswer()>SUBMIT</button>
  </div>
  </div class = "instructions">
</div> <!--end stimulus container-->
</body>

  <script>


    //define data file for graph based on scenario and impasse condition
    var datafile = "data.csv"; //set the datafile based on the scenario

    //---------SET PROPERTIES OF THE GRAPH -------------//
    // set the dimensions and margins of the graph
    var margin = {top: 25, right: 30, bottom: 90, left: 100},
      width = 800,
      height = 800;
    var intersects = false; //default value for intersects scaffold
    var xAxisTitle, yAxisTitle;

    var condition = 30;
    var scaffold = 0;
    var clicked = [];
    var hovered ;
    var colorClick = false;
    var axis = "orthogonal"; //VALUES ARE "diagonal" or "orthogonal"

    switch(condition) {
      case 10: //control - no impasse
        console.log("11: control - no impasse")
        intersects = false; //intersects off
        break;
      case 20:  //text&image - no impasse
        console.log("20: textimage - no impasse")
        $('#triangular-acme-nonimpasse').css("display","block"); //display textimage scaffold
        intersects = false; //intersects off
        break;
      case 30:  //interactive - no impasse
        console.log("30: interactive - no impasse")
        $('#hint-interactive').css("display","block"); //display scaffold
        intersects = true; //intersects are true
        break;
      case 40:  //diagonal - no impasse
        console.log("40: diagonal - no impasse")
        intersects = false; //intersects off
        break;
      case 11:  //control - impasse
        console.log("11: control - impasse")
        intersects = false; //intersects off
        break;
      case 21:  //text&image - impasse
        console.log("21: textimage - impasse")
        $('#triangular-acme-impasse').css("visibility","visible"); //display textimage scaffold
        intersects = false; //intersects off
        break;
      case 31:  //interactive - impasse
        console.log("31: interactive - impasse")
        $('#hint-interactive').css("display","block"); //display scaffold
        intersects = true; //intersects are true
        break;
      case 41:  //diagonal - impasse
        console.log("41: diagonal - impasse")
        intersects = false; //intersects off
        break;
        default:
        break;
    }

    // //---------CREATE THE SVG  ------------------------//
    var svg = d3.select(".d3container").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform",  "translate(" + margin.left + "," + margin.top + ")");

    //---------DRAW THE GRAPH  ------------------------//
      xAxisTitle = "START & END TIME (time of day)";
      yAxisTitle = "DURATION (in hours)";
      drawTriangleModel(datafile,scaffold,axis);

</script>
